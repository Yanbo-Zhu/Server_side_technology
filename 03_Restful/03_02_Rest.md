

![](images/Pasted%20image%2020250124192320.png)


- Dienstanfragen und -antworten basieren auf der Repräsentation von Ressourcen
- Ein **_Ressource_** ist jede Art von kohärenter und sinnvoller Information (z.B. eine Liste oder Elemente einer Liste), die über eine Adresse (URI) zur Verfügung gestellt werden kann
- Eine **_Repräsentation_** ist die Darstellungsform einer Ressource (z.B. HTML, XML oder JSON)
- Eine REST-konformer Server kann je nach Anforderung verschiedene Repräsentationen einer Ressource ausliefern
- Veränderungen von Ressourcen erfolgen i.d.R. über eine Repräsentation
- Jede Ressource verfügt über eine eigene, dedizierte Adresse in Form eines Uniform Resource Locators (URL)
- RESTful Services definieren keine eigenen Methoden und Operationen in ihrer API, sondern verwenden die _**Verben**_ von HTTP


Rest 的优势:
- Rest quest , weg von http format sein, 不需要像 restless service 一样, 不需要写httpp boday 中的 格式和内容, 
- 只需要 在 uri 中写上想要拿到的资源就好 

# 1 Wiederverwendung von HTTP-Methoden
 
![](images/Pasted%20image%2020250124193116.png)



# 2 Rest-Parameter

![](images/Pasted%20image%2020250124193224.png)

Path-Parameter
- Platzhalter für den variablen Teil eines URL-Pfades
- Zeigt auf eine bestimmte Ressource in einer Kollektion von Ressourcen
- Wird durch einen Wert ersetzt, wenn der Client einen Request an die API sendet


Header-Parameter
- Werden im Header einer HTTP-Anfrage transportiert
- Werden zu Kontroll- und Steuerzwecken verwendet, z.B. Authentifizierung, Mitteilung über die URL einer Ressource, Anzeige von Inhaltsformaten, usw.


Query-Parameter
- 就是 get xx 
- Schlüssel/Wertpaare, die am Ende einer URL mit einem Fragezeichen angehängt werden
- Werden üblicherweise verwendet, um Filter- oder Suchkriterien auf einer mit GET angefragten Kollektion von Ressourcen zu definieren


# 3 Ressource-Typen und Enthaltenseinsbeziehungen (I/II)

![](images/Pasted%20image%2020250124193511.png)


- Ein **_RESTful Service_** ist eine Kollektion von Ressourcen
- Eine **_Ressource_** ist ein kohärenter Datensatz basierend auf einem abstrakten Datenmodell, der im Kontext der Webanwendung von Relevanz ist
- Ein **_Ressourcen-Typ_** ist eine Kollektion von Ressourcen, die auf demselben Datenmodell basieren, d.h. Ressourcen desselben Typs werden durch dieselben Attribute beschrieben, aber unterscheiden sich durch die Attributwerte voneinander

- Eine Ressource kann ein oder mehrere **_Unterressourcen_** oder **_Kindressourcen_** (_**Sub Resources**, **Child Resources**_) enthalten
- Eine Ressource kann keine oder eine übergeordnete **_Superressource_** oder **_Elternressource_** (**_Super Resource_**) haben
- Kindressourcen und ihre Elternressource begründen eine **_Enthaltenseinsbeziehung_**


URL-Bildung anhand von Enthaltenseinsbeziehungen (I/II)
- Eine RESTful-Dienst hat keinen einzelnen Endpunkt, stattdessen verfügt jede Ressource über einen eigenen, durch eine URL spezifizierten Endpunkt
- Die URL setzt sich aus der Domain des RESTful-Dienstes und dem Pfad der Ressource zusammen
- Der Pfad der URL setzt sich aus den Namen der Ressource und ihrer Superressourcen zusammen

Beispiele
- `**/donaldduck/contacts/**` repräsentiert die Ressource der Kontakte des Nutzers Donald Duck
- `**/donaldduck/contacts/daisyduck**` repräsentiert einen einzelnen Kontakt des Nutzers Donald Duck 
- `**/donaldduck/timeline/3451895437**` repräsentiert eine Nachricht in der Timeline des Nutzers Donald Duck

![](images/Pasted%20image%2020250202191728.png)


# 4 Repräsentationen 


- Eine **_Repräsentation_** oder Darstellung ist eine serialisierte Ressource, d.h. eine Zeichenkette basierend auf einem Darstellungsformat
- Jede Ressource eines RESTful-Dienstes kann verschiedene Darstellungen haben
- Ein **_Darstellungsformat_** definiert die Syntax einer Darstellung
- Übliche Darstellungsformate: **_Java Script Object Notation_** (**_JSON_**) and **_eXtended Markup Language_** (**_XML_**)

Eine Ressource in JSON-Repräsentation
![](images/Pasted%20image%2020250202191851.png)

Eine Ressource in XML-Repräsentation
![](images/Pasted%20image%2020250202191904.png)


# 5 Verwendung von HTTP-Verben

- RESTful-Dienste basieren auf HTTP und verwenden HTTP-Methoden als Standardvokabular der API (siehe Tabelle)
- Beachte: REST ist nicht auf HTTP beschränkt, sondern kann auch mit anderen Protokollen wie **_CoAP_** (**_Constrained Application Protocol_**) genutzt werden
- HTTP-Methoden, die keine Daten verändern, werden als **_sicher_** (**_safe_**) bezeichnet
- Sichere Methoden: `**GET**` und `**HEAD**`
- HTTP-Methoden, die bei wiederholten Aufruf (mit den gleichen Parametern) das gleiche Ergebnis erzielen, werden als **_idempotent_** bezeichnet 
- Idempotente Methoden: `**GET**`, `**PUT**` und `**DELETE**`

|Anfragemethode|CRUD-Operation|Beschreibung|
|---|---|---|
|`**GET**`|Read|Fordert die angegebene Ressource vom Server an. Der Body der Anfrage ist leer.|
|`**POST**`|Create|Fügt eine neue Ressource unterhalb einer angegebenen Ressource ein. Da die neue Methode noch keine URL besitzt, wird die URL der Elternressource angegeben. Als Ergebnis der Operation wird die URL der neu angelegten Ressource zurückgegeben. Der HTTP-Body enthält die neue Ressource.|
|`**PUT**`|Update|Die durch die URL spezifizierte Ressource wird mit den Daten aus dem Rumpf aktualisiert oder es wird eine neue Ressource mit den Daten aus dem Rumpf angelegt, falls die angegeben URL nicht existiert. Der HTTP-Body enthält die aktualisierte Ressource.|
|`**DELETE**`|Delete|Löschen einer Resource, keine Daten im Body einer Anfrage. Der HTTP-Body ist leer.|


PUT versus POST
Put: 更新原有的 
Post: 之前有的不更新, 而是 insert 一个新的 

![](images/Pasted%20image%2020250202192415.png)

| Anfragemethode               | Beschreibung                                                                                                                                                                                                            |
| ---------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| `**PUT /users**`             | Eine Ressource, welche eine Menge von Nutzern repräsentiert, wird mit den Daten im HTTP-Body aktualisiert, wenn die Ressource bereits existiert oder unter `**/users**` angelegt wenn sie nicht existiert               |
| `**PUT /users/donaldduck**`  | Eine Ressource, die den Nutzer Donald Duck repräsentiert, wird mit den Daten im HTTP-Body aktualisiert oder unter `**/users/donaldduck**` neu angelegt                                                                  |
| `**POST /users/**`           | Legt eine neue Ressource unter der Elternressource `**/users**` mit den Daten aus dem HTTP-Body an. Der Name der Ressource wird von dem aufrufenden Client im `**Location**`-Header-Feld der Antwort mitgeteilt.        |
| `**POST /users/donaldduck**` | Legt eine neue Ressource unter der Elternressource `**/users/donaldduck**` mit den Daten aus dem HTTP-Body an. Der Name der Ressource wird dem aufrufenden Client im `**Location**`-Header-Feld der Antwort mitgeteilt. |


# 6 State Transfer


Application State  (Client 端的)
- Der **_Zustand einer Anwendung_** (**_Application State_**) korrespondiert mit der im im Client geladenen Ressource (entsprich im WWW der geladenen Webseite)
- Zustandsübergänge entsprechen Verweisen denen der Client folgt, um weitere Ressourcen zu laden
![](images/Pasted%20image%2020250202193431.png)



Resource State  (Server 端的)
- Der **_Ressourcen-Zustand_** (**_Resource State_**) entspricht dem Zustand, den Daten oder dem Wert aller Ressourcen eines Webservers
- Zustandsübergänge ergeben sich durch die Aktualisierung oder die Löschung von existierenden Ressourcen sowie die Einrichtung neuer Ressourcen

![](images/Pasted%20image%2020250202193620.png)

---


State Transfer
- Der Zustand der Anwendung liegt im Client - Der Server kann durch Senden von Repräsentationen Zustandsübergänge auslösen und den Zustand der Anwendung beeinflussen
- Der Ressourcen-Zustand liegt im Server - Der Client kann durch Senden durch Repräsentationen den Zustand beeinflussen




